{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nimport initialState from \"./initialState\";\nexport default function cartReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART:\n      var addedItem = state.find(c => c.product.id === action.payload.product.id);\n\n      if (addedItem) {\n        var newState = state.map(cartItem => {\n          if (cartItem.product.id === action.pay.product.id) {\n            return Object.assign({}, addedItem, {\n              quantity: addedItem.quantity + 1\n            });\n          }\n\n          return cartItem;\n        });\n        return newState;\n      } else {\n        return [...state, { ...action.payload\n        }];\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/reactcourse/northwind-redux/src/redux/reducers/cartReducer.js"],"names":["actionTypes","initialState","cartReducer","state","cart","action","type","ADD_TO_CART","addedItem","find","c","product","id","payload","newState","map","cartItem","pay","Object","assign","quantity"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,eAAe,SAASC,WAAT,GAAwD;AAAA,MAAnCC,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;;AACrE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,WAAW,CAACO,WAAjB;AACE,UAAIC,SAAS,GAAGL,KAAK,CAACM,IAAN,CACbC,CAAD,IAAOA,CAAC,CAACC,OAAF,CAAUC,EAAV,KAAiBP,MAAM,CAACQ,OAAP,CAAeF,OAAf,CAAuBC,EADjC,CAAhB;;AAGA,UAAIJ,SAAJ,EAAe;AACb,YAAIM,QAAQ,GAAGX,KAAK,CAACY,GAAN,CAAWC,QAAD,IAAc;AACrC,cAAIA,QAAQ,CAACL,OAAT,CAAiBC,EAAjB,KAAwBP,MAAM,CAACY,GAAP,CAAWN,OAAX,CAAmBC,EAA/C,EAAmD;AACjD,mBAAOM,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBX,SAAlB,EAA6B;AAClCY,cAAAA,QAAQ,EAAEZ,SAAS,CAACY,QAAV,GAAqB;AADG,aAA7B,CAAP;AAGD;;AACD,iBAAOJ,QAAP;AACD,SAPc,CAAf;AAQA,eAAOF,QAAP;AACD,OAVD,MAUO;AACL,eAAO,CAAC,GAAGX,KAAJ,EAAW,EAAE,GAAGE,MAAM,CAACQ;AAAZ,SAAX,CAAP;AACD;;AAEH;AACE,aAAOV,KAAP;AApBJ;AAsBD","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\r\nimport initialState from \"./initialState\";\r\n\r\nexport default function cartReducer(state = initialState.cart, action) {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_TO_CART:\r\n      var addedItem = state.find(\r\n        (c) => c.product.id === action.payload.product.id\r\n      );\r\n      if (addedItem) {\r\n        var newState = state.map((cartItem) => {\r\n          if (cartItem.product.id === action.pay.product.id) {\r\n            return Object.assign({}, addedItem, {\r\n              quantity: addedItem.quantity + 1,\r\n            });\r\n          }\r\n          return cartItem;\r\n        });\r\n        return newState;\r\n      } else {\r\n        return [...state, { ...action.payload }];\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}