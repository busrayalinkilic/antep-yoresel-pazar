{"ast":null,"code":"import _regeneratorRuntime from\"C:/antepurunleri/antep-urunleri/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/antepurunleri/antep-urunleri/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as actionTypes from\"./actionTypes\";export function getProductsSuccess(products){return{type:actionTypes.GET_PRODUCTS_SUCCESS,payload:products};//getcategoriessuccess için yeni state'imiz categories olacak demek\n}export function createProductSuccess(product){return{type:actionTypes.CREATE_PRODUCT_SUCCESS,payload:product};}export function updateProductSuccess(product){return{type:actionTypes.UPDATE_PRODUCT_SUCCESS,payload:product};}export function saveProductApi(product){return fetch(\"http://localhost:3000/products/\"+(product.id||\"\"),{method:product.id?\"PUT\":\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(product)}).then(handleResponse).catch(handleError);}export function saveProduct(product){return function(dispatch){return saveProductApi(product).then(function(saveProduct){product.id?dispatch(updateProductSuccess(saveProduct)):dispatch(createProductSuccess(saveProduct));}).catch(function(error){throw error;});};}export function handleResponse(_x){return _handleResponse.apply(this,arguments);}function _handleResponse(){_handleResponse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!response.ok){_context.next=2;break;}return _context.abrupt(\"return\",response.json());case 2:_context.next=4;return response.text();case 4:error=_context.sent;throw new Error(error);case 6:case\"end\":return _context.stop();}}},_callee);}));return _handleResponse.apply(this,arguments);}export function handleError(error){console.error(\"bir hata oluştu\");throw error;}export function getProducts(categoryId){return function(dispatch){var url=\"http://localhost:3000/products\";if(categoryId){url=url+\"?categoryId=\"+categoryId;}return fetch(url).then(function(response){return response.json();}).then(function(result){return dispatch(getProductsSuccess(result));});//dispatch=yakalamak,ele geçirmek\n};}","map":{"version":3,"sources":["C:/antepurunleri/antep-urunleri/src/redux/actions/productActions.js"],"names":["actionTypes","getProductsSuccess","products","type","GET_PRODUCTS_SUCCESS","payload","createProductSuccess","product","CREATE_PRODUCT_SUCCESS","updateProductSuccess","UPDATE_PRODUCT_SUCCESS","saveProductApi","fetch","id","method","headers","body","JSON","stringify","then","handleResponse","catch","handleError","saveProduct","dispatch","error","response","ok","json","text","Error","console","getProducts","categoryId","url","result"],"mappings":"iOAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,eAA7B,CAEA,MAAO,SAASC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CAC3C,MAAO,CAAEC,IAAI,CAAEH,WAAW,CAACI,oBAApB,CAA0CC,OAAO,CAAEH,QAAnD,CAAP,CACA;AACD,CAED,MAAO,SAASI,CAAAA,oBAAT,CAA8BC,OAA9B,CAAuC,CAC5C,MAAO,CAAEJ,IAAI,CAAEH,WAAW,CAACQ,sBAApB,CAA4CH,OAAO,CAAEE,OAArD,CAAP,CACD,CAED,MAAO,SAASE,CAAAA,oBAAT,CAA8BF,OAA9B,CAAuC,CAC5C,MAAO,CAAEJ,IAAI,CAAEH,WAAW,CAACU,sBAApB,CAA4CL,OAAO,CAAEE,OAArD,CAAP,CACD,CAED,MAAO,SAASI,CAAAA,cAAT,CAAwBJ,OAAxB,CAAiC,CACtC,MAAOK,CAAAA,KAAK,CAAC,mCAAqCL,OAAO,CAACM,EAAR,EAAc,EAAnD,CAAD,CAAyD,CACnEC,MAAM,CAAEP,OAAO,CAACM,EAAR,CAAa,KAAb,CAAqB,MADsC,CAEnEE,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF0D,CAGnEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeX,OAAf,CAH6D,CAAzD,CAAL,CAKJY,IALI,CAKCC,cALD,EAMJC,KANI,CAMEC,WANF,CAAP,CAOD,CACD,MAAO,SAASC,CAAAA,WAAT,CAAqBhB,OAArB,CAA8B,CACnC,MAAO,UAAUiB,QAAV,CAAoB,CACzB,MAAOb,CAAAA,cAAc,CAACJ,OAAD,CAAd,CACJY,IADI,CACC,SAACI,WAAD,CAAiB,CACrBhB,OAAO,CAACM,EAAR,CACIW,QAAQ,CAACf,oBAAoB,CAACc,WAAD,CAArB,CADZ,CAEIC,QAAQ,CAAClB,oBAAoB,CAACiB,WAAD,CAArB,CAFZ,CAGD,CALI,EAMJF,KANI,CAME,SAACI,KAAD,CAAW,CAChB,KAAMA,CAAAA,KAAN,CACD,CARI,CAAP,CASD,CAVD,CAWD,CAED,eAAsBL,CAAAA,cAAtB,mD,mGAAO,iBAA8BM,QAA9B,gIACDA,QAAQ,CAACC,EADR,yDAEID,QAAQ,CAACE,IAAT,EAFJ,+BAIeF,CAAAA,QAAQ,CAACG,IAAT,EAJf,QAICJ,KAJD,oBAKC,IAAIK,CAAAA,KAAJ,CAAUL,KAAV,CALD,uD,iDAQP,MAAO,SAASH,CAAAA,WAAT,CAAqBG,KAArB,CAA4B,CACjCM,OAAO,CAACN,KAAR,CAAc,iBAAd,EACA,KAAMA,CAAAA,KAAN,CACD,CAED,MAAO,SAASO,CAAAA,WAAT,CAAqBC,UAArB,CAAiC,CACtC,MAAO,UAAUT,QAAV,CAAoB,CACzB,GAAIU,CAAAA,GAAG,CAAG,gCAAV,CACA,GAAID,UAAJ,CAAgB,CACdC,GAAG,CAAGA,GAAG,CAAG,cAAN,CAAuBD,UAA7B,CACD,CACD,MAAOrB,CAAAA,KAAK,CAACsB,GAAD,CAAL,CACJf,IADI,CACC,SAACO,QAAD,QAAcA,CAAAA,QAAQ,CAACE,IAAT,EAAd,EADD,EAEJT,IAFI,CAEC,SAACgB,MAAD,QAAYX,CAAAA,QAAQ,CAACvB,kBAAkB,CAACkC,MAAD,CAAnB,CAApB,EAFD,CAAP,CAE2D;AAC5D,CARD,CASD","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\n\r\nexport function getProductsSuccess(products) {\r\n  return { type: actionTypes.GET_PRODUCTS_SUCCESS, payload: products };\r\n  //getcategoriessuccess için yeni state'imiz categories olacak demek\r\n}\r\n\r\nexport function createProductSuccess(product) {\r\n  return { type: actionTypes.CREATE_PRODUCT_SUCCESS, payload: product };\r\n}\r\n\r\nexport function updateProductSuccess(product) {\r\n  return { type: actionTypes.UPDATE_PRODUCT_SUCCESS, payload: product };\r\n}\r\n\r\nexport function saveProductApi(product) {\r\n  return fetch(\"http://localhost:3000/products/\" + (product.id || \"\"), {\r\n    method: product.id ? \"PUT\" : \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(product),\r\n  })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\nexport function saveProduct(product) {\r\n  return function (dispatch) {\r\n    return saveProductApi(product)\r\n      .then((saveProduct) => {\r\n        product.id\r\n          ? dispatch(updateProductSuccess(saveProduct))\r\n          : dispatch(createProductSuccess(saveProduct));\r\n      })\r\n      .catch((error) => {\r\n        throw error;\r\n      });\r\n  };\r\n}\r\n\r\nexport async function handleResponse(response) {\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  const error = await response.text();\r\n  throw new Error(error);\r\n}\r\n\r\nexport function handleError(error) {\r\n  console.error(\"bir hata oluştu\");\r\n  throw error;\r\n}\r\n\r\nexport function getProducts(categoryId) {\r\n  return function (dispatch) {\r\n    let url = \"http://localhost:3000/products\";\r\n    if (categoryId) {\r\n      url = url + \"?categoryId=\" + categoryId;\r\n    }\r\n    return fetch(url)\r\n      .then((response) => response.json())\r\n      .then((result) => dispatch(getProductsSuccess(result))); //dispatch=yakalamak,ele geçirmek\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}